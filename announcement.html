<!DOCTYPE html><html><head><link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Signika+Negative:300,400"><link rel="stylesheet" type="text/css" href="styles/main.css"><link rel="shortcut icon" href="http://www.elasticsearch.org/content/themes/elasticsearch-org/favicon.ico"><meta name="viewport" content="initial-scale=1"><title>Elasticsearch.js - Official Elasticsearch client for Node.js and the Browser</title></head><body class="language-javascript"><a href="https://github.com/elasticsearch/elasticsearch-js"><img src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub" class="ghribbon"></a><header><h1>Elasticsearch.js</h1><p>A low-level Elasticsearch client for Node.js and the Browser</p></header><nav><h1><a href="index.html">Elasticsearch.js</a></h1><ul><li><a href="index.html#about">About/Install</a></li><li><a href="index.html#quick-start">Quick Start</a></li><li><a href="index.html#configuration">Configuration</a></li><li><a href="index.html#extending">Extending Core Components</a></li><li><a href="index.html#logging">Logging</a></li><li><a href="index.html#dev">Development/Contributing</a></li><h2><a href="api.html">Api</a></h2><ul><li><a href="api.html#bulk">bulk</a></li><li><a href="api.html#clearscroll">clearScroll</a></li><li><a href="api.html#count">count</a></li><li><a href="api.html#delete">delete</a></li><li><a href="api.html#deletebyquery">deleteByQuery</a></li><li><a href="api.html#exists">exists</a></li><li><a href="api.html#explain">explain</a></li><li><a href="api.html#get">get</a></li><li><a href="api.html#getsource">getSource</a></li><li><a href="api.html#index">index</a></li><li><a href="api.html#info">info</a></li><li><a href="api.html#mget">mget</a></li><li><a href="api.html#mlt">mlt</a></li><li><a href="api.html#msearch">msearch</a></li><li><a href="api.html#percolate">percolate</a></li><li><a href="api.html#scroll">scroll</a></li><li><a href="api.html#search">search</a></li><li><a href="api.html#suggest">suggest</a></li><li><a href="api.html#update">update</a></li><h3>Cluster</h3><ul><li><a href="api.html#cluster-getsettings">getSettings</a></li><li><a href="api.html#cluster-health">health</a></li><li><a href="api.html#cluster-nodehotthreads">nodeHotThreads</a></li><li><a href="api.html#cluster-nodeinfo">nodeInfo</a></li><li><a href="api.html#cluster-nodeshutdown">nodeShutdown</a></li><li><a href="api.html#cluster-nodestats">nodeStats</a></li><li><a href="api.html#cluster-putsettings">putSettings</a></li><li><a href="api.html#cluster-reroute">reroute</a></li><li><a href="api.html#cluster-state">state</a></li></ul><h3>Indices</h3><ul><li><a href="api.html#indices-analyze">analyze</a></li><li><a href="api.html#indices-clearcache">clearCache</a></li><li><a href="api.html#indices-close">close</a></li><li><a href="api.html#indices-create">create</a></li><li><a href="api.html#indices-delete">delete</a></li><li><a href="api.html#indices-deletealias">deleteAlias</a></li><li><a href="api.html#indices-deletemapping">deleteMapping</a></li><li><a href="api.html#indices-deletetemplate">deleteTemplate</a></li><li><a href="api.html#indices-deletewarmer">deleteWarmer</a></li><li><a href="api.html#indices-exists">exists</a></li><li><a href="api.html#indices-existsalias">existsAlias</a></li><li><a href="api.html#indices-existstype">existsType</a></li><li><a href="api.html#indices-flush">flush</a></li><li><a href="api.html#indices-getalias">getAlias</a></li><li><a href="api.html#indices-getaliases">getAliases</a></li><li><a href="api.html#indices-getfieldmapping">getFieldMapping</a></li><li><a href="api.html#indices-getmapping">getMapping</a></li><li><a href="api.html#indices-getsettings">getSettings</a></li><li><a href="api.html#indices-gettemplate">getTemplate</a></li><li><a href="api.html#indices-getwarmer">getWarmer</a></li><li><a href="api.html#indices-open">open</a></li><li><a href="api.html#indices-optimize">optimize</a></li><li><a href="api.html#indices-putalias">putAlias</a></li><li><a href="api.html#indices-putmapping">putMapping</a></li><li><a href="api.html#indices-putsettings">putSettings</a></li><li><a href="api.html#indices-puttemplate">putTemplate</a></li><li><a href="api.html#indices-putwarmer">putWarmer</a></li><li><a href="api.html#indices-refresh">refresh</a></li><li><a href="api.html#indices-segments">segments</a></li><li><a href="api.html#indices-snapshotindex">snapshotIndex</a></li><li><a href="api.html#indices-stats">stats</a></li><li><a href="api.html#indices-status">status</a></li><li><a href="api.html#indices-updatealiases">updateAliases</a></li><li><a href="api.html#indices-validatequery">validateQuery</a></li></ul></ul><h2>Misc</h2><ul><li><a href="transport.html">Transport</a></li><li><a href="errors.html">Errors</a></li></ul></ul></nav><h2>Elasticsearch.js for real-time search in Node and the browser</h2>
<p>A few months ago we released apps for PHP, Ruby, Python and Perl and today we add another to the bunch, JavaScript!</p>
<p>This client aims to solve the same problems that the others did, namely: access to the entire Elasticsearch REST API, cluster awareness, automatic discovery of nodes, and intelligent failure handling. It is also designed to be opinion free, and easily extended, so that you can really have it behave just the way you want it to.</p>
<p>If you didn&#39;t know we were developing our own clients you should check out <a href="http://www.elasticsearch.org/blog/unleash-the-clients-ruby-python-php-perl/">this post</a> from the first round of releases. There Clint explains why we decided to go down this road, as well as some of the goals of the project.</p>
<h3>Introduction to the JavaScript client</h3>
<p>Getting started with Elasticsearch.js is almost easier than getting started with Elasticsearch itself. To install the module into an existing project use npm:</p>
<pre><code>npm install elasticsearch</code></pre>
<p>For a browser-based projects, download the builds availble from <a href="http://elasticsearch.github.io/elasticsearch-js#browser-builds">here</a>, extract the archive, and include one of the .js in your HTML based on your environment.</p>
<p>Now you can use it within your application and get busy indexing!</p>
<pre><code>// Connect to localhost:9200 in Node
var elasticsearch = require(&#39;elasicsearch&#39;);
var es = elasticsearch.Client();

// Connect the client to two nodes, requests will be
// load-balanced between them using round-robin
var es = elasticsearch.Client({
  hosts: [
    &#39;elasticsearch1:9200&#39;,
    &#39;elasticsearch2:9200&#39;
  ]
});

// Connect to the cluster which contains elasticsearch1:9200
// and sniff for the list of current nodes right now and every
// 5 minutes
var es = elasticsearch.Client({
  host: &#39;elasticsearch1:9200&#39;,
  sniffOnStart: true,
  sniffInterval: 300000
});

// in the browser build, elasticsearch is available on the window by default
var es = elasticsearch.Client();

// if you are using require.js you can do something like this, no shim needed
require([&#39;js/elasticsearch&#39;], function (elasticsearch) {
  var es = elasticsearch.Client();
});

// in the Angular build we register a factory
module.serivce(&#39;es&#39;, function (esFactory) {
  var config = {};
  return esFactory(config);
});

// use the cleint to index a document
es.index({
  index: &#39;blog&#39;,
  type: &#39;post&#39;,
  id: 1,
  body: {
    title: &#39;Elasticsearch clients&#39;,
    content: &#39;Interesting content...&#39;,
    date: &#39;2013-12-16&#39;
  }
}, function (err, resp) {
  // ...
});

// get the document back
es.get({
  index: &#39;blog&#39;,
  type: &#39;post&#39;,
  id: 1
}, function (err, resp) {
  if (err) throw err;
  var doc = resp._source;
});

// or search for the document
es.search({
  index: &#39;blog&#39;,
  body: {
    query: {
      match: {
        title: &#39;elasticsearch&#39;
      }
    }
  }
})</code></pre>
<script type="text/javascript" src="elasticsearch.js"></script><script type="text/javascript" src="js/prism.js"></script></body></html>